"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[620],{9620:(b,p,a)=>{a.r(p),a.d(p,{AuthRoutingModule:()=>h});var l=a(1083),t=a(3075),g=a(5226),u=a.n(g),e=a(5e3),c=a(6518),m=a(8692);const f=[{path:"login",component:(()=>{class r{constructor(o,n,i){this.fb=o,this.authService=n,this.router=i,this.formLogin=this.fb.group({email:["",[t.kI.required,t.kI.email,t.kI.minLength(3),t.kI.maxLength(50)]],password:["",[t.kI.required,t.kI.minLength(6)]],recaptcha:["",t.kI.required]}),this.siteKey="6LeC2ZMfAAAAAEE8Z1L4cLhr8IZVMLmdu_WRu5Zp",this.errorMsg="",this.errorEmail="",this.errorPassword=""}ngOnInit(){}login(){const{email:o,password:n}=this.formLogin.value;this.authService.login(o,n).subscribe({next:i=>{!0===i&&this.formLogin.valid?this.authService.getRolByToken().subscribe(d=>{this.router.navigate("admin"===d?["/dashboard"]:"tecnico"===d?["/tecnico"]:["/cliente"])}):this.formLogin.controls.recaptcha.errors?u().fire("Error","Es necesario completar el captcha","error"):(this.errorMsg="Usuario o contrase\xf1a incorrectos",u().fire("Error",i.msg,"error"))}})}}return r.\u0275fac=function(o){return new(o||r)(e.Y36(t.qu),e.Y36(c.e),e.Y36(l.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-login"]],decls:32,vars:5,consts:[[1,"h-screen","bg-gray-400"],[1,"container","mx-auto"],[1,"flex","justify-center","p-12"],[1,"w-full","xl:w-3/4","lg:w-11/12","flex"],[1,"w-full","h-auto","bg-gray-400","hidden","lg:block","lg:w-1/2","bg-cover","bg-center","rounded-l-lg",2,"background-image","url('https://www.kindpng.com/picc/m/484-4840794_80215-compt-repairs-logo-large-computer-service-and.png')"],[1,"w-full","lg:w-1/2","bg-white","p-5","rounded-lg","lg:rounded-l-none"],[1,"pt-4","text-2xl","text-center"],[1,"px-8","pt-6","pb-8","mb-4","bg-white","rounded",3,"formGroup","ngSubmit"],[1,"mb-4"],["for","email",1,"block","mb-2","text-sm","font-bold","text-gray-700"],["formControlName","email","id","email","type","email","placeholder","Email",1,"w-full","px-3","py-2","text-sm","leading-tight","text-gray-700","border","rounded","shadow","appearance-none","focus:outline-none","focus:shadow-outline"],[1,"text-xs","italic","text-red-500"],["for","password",1,"block","mb-2","text-sm","font-bold","text-gray-700"],["formControlName","password","id","password","type","password","placeholder","******************",1,"w-full","px-3","py-2","mb-3","text-sm","leading-tight","text-gray-700","border","rounded","shadow","appearance-none","focus:outline-none","focus:shadow-outline"],["formControlName","recaptcha",3,"siteKey"],["captchaElem",""],[1,"my-6","text-center"],["type","submit",1,"w-full","px-4","py-2","font-bold","text-white","bg-blue-500","rounded-full","hover:bg-blue-700","focus:outline-none","focus:shadow-outline"],[1,"mb-6","border-t"],[1,"text-center","flex","flex-col"],["routerLink","/auth/password-reset",1,"inline-block","text-sm","text-blue-500","align-baseline","hover:text-blue-800"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._UZ(4,"div",4),e.TgZ(5,"div",5)(6,"h3",6),e._uU(7,"Bienvenid@ \u{1f642}"),e.qZA(),e.TgZ(8,"form",7),e.NdJ("ngSubmit",function(){return n.login()}),e.TgZ(9,"div",8)(10,"label",9),e._uU(11," Email "),e.qZA(),e._UZ(12,"input",10),e.TgZ(13,"p",11),e._uU(14),e.qZA()(),e.TgZ(15,"div",8)(16,"label",12),e._uU(17," Contrase\xf1a "),e.qZA(),e._UZ(18,"input",13),e.TgZ(19,"p",11),e._uU(20),e.qZA()(),e.TgZ(21,"p",11),e._uU(22),e.qZA(),e._UZ(23,"ngx-recaptcha2",14,15),e.TgZ(25,"div",16)(26,"button",17),e._uU(27," Iniciar sesi\xf3n "),e.qZA()(),e._UZ(28,"hr",18),e.TgZ(29,"div",19)(30,"a",20),e._uU(31," \xbfOlvidaste tu contrase\xf1a? "),e.qZA()()()()()()()()),2&o&&(e.xp6(8),e.Q6J("formGroup",n.formLogin),e.xp6(6),e.Oqu(n.errorEmail),e.xp6(6),e.Oqu(n.errorPassword),e.xp6(2),e.Oqu(n.errorMsg),e.xp6(1),e.Q6J("siteKey",n.siteKey))},directives:[t._Y,t.JL,t.sg,t.Fj,t.JJ,t.u,m.to,l.yS],styles:[""]}),r})()},{path:"password-reset",component:(()=>{class r{constructor(o,n,i){this.fb=o,this.authService=n,this.router=i,this.formLogin=this.fb.group({email:["",[t.kI.required,t.kI.email,t.kI.minLength(3),t.kI.maxLength(20)]]}),this.siteKey="6LeC2ZMfAAAAAEE8Z1L4cLhr8IZVMLmdu_WRu5Zp",this.errorEmail=""}ngOnInit(){}sendPass(){const{email:o}=this.formLogin.value;this.authService.sendEmail(o).subscribe(n=>{n?(u().fire({title:"Enviado",text:"Se ha enviado un correo para restablecer la contrase\xf1a",icon:"success",showConfirmButton:!1,timer:1500}),this.router.navigate(["/login"])):u().fire({title:"Error",text:"No se ha podido enviar el correo",icon:"error",confirmButtonText:"Ok"})})}}return r.\u0275fac=function(o){return new(o||r)(e.Y36(t.qu),e.Y36(c.e),e.Y36(l.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-password-reset"]],decls:22,vars:2,consts:[[1,"h-screen","bg-gray-400"],[1,"container","mx-auto"],[1,"flex","justify-center","p-12"],[1,"w-full","xl:w-3/4","lg:w-11/12","flex"],[1,"w-full","h-auto","bg-gray-400","hidden","lg:block","lg:w-1/2","bg-cover","bg-center","rounded-l-lg",2,"background-image","url('https://www.kindpng.com/picc/m/484-4840794_80215-compt-repairs-logo-large-computer-service-and.png')"],[1,"w-full","lg:w-1/2","bg-white","p-5","rounded-lg","lg:rounded-l-none"],[1,"pt-4","text-2xl","text-center"],[1,"px-8","pt-6","pb-8","mb-4","bg-white","rounded",3,"formGroup","ngSubmit"],[1,"mb-4"],["for","email",1,"block","mb-2","text-sm","font-bold","text-gray-700"],["formControlName","email","id","email","type","email","placeholder","Email",1,"w-full","px-3","py-2","text-sm","leading-tight","text-gray-700","border","rounded","shadow","appearance-none","focus:outline-none","focus:shadow-outline"],[1,"text-xs","italic","text-red-500"],[1,"my-6","text-center"],["type","submit",1,"w-full","px-4","py-2","font-bold","text-white","bg-blue-500","rounded-full","hover:bg-blue-700","focus:outline-none","focus:shadow-outline"],[1,"mb-6","border-t"],[1,"text-center","flex","flex-col"],["routerLink","/auth/login",1,"inline-block","text-sm","text-blue-500","align-baseline","hover:text-blue-800"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._UZ(4,"div",4),e.TgZ(5,"div",5)(6,"h3",6),e._uU(7,"Inserta tu correo electr\xf3nico para una contrase\xf1a nueva"),e.qZA(),e.TgZ(8,"form",7),e.NdJ("ngSubmit",function(){return n.sendPass()}),e.TgZ(9,"div",8)(10,"label",9),e._uU(11," Email "),e.qZA(),e._UZ(12,"input",10),e.TgZ(13,"p",11),e._uU(14),e.qZA()(),e.TgZ(15,"div",12)(16,"button",13),e._uU(17," Enviar "),e.qZA()(),e._UZ(18,"hr",14),e.TgZ(19,"div",15)(20,"a",16),e._uU(21," Iniciar sesi\xf3n "),e.qZA()()()()()()()()),2&o&&(e.xp6(8),e.Q6J("formGroup",n.formLogin),e.xp6(6),e.Oqu(n.errorEmail))},directives:[t._Y,t.JL,t.sg,t.Fj,t.JJ,t.u,l.yS],styles:[""]}),r})()},{path:"new-password/:token",component:(()=>{class r{constructor(o,n,i,d){this.fb=o,this.authService=n,this.router=i,this.route=d,this.formPassword=this.fb.group({password:["",[t.kI.required,t.kI.minLength(6),t.kI.maxLength(20)]]}),this.errorPassword="",this.token=""}ngOnInit(){}updatePass(){this.authService.newPassword(this.formPassword.value.password,this.route.snapshot.paramMap.get("token")).subscribe(o=>{o?(u().fire({title:"Actualizado",text:"Se ha actualizado la contrase\xf1a",icon:"success",showConfirmButton:!1,timer:1500}),this.router.navigate(["/login"])):u().fire({title:"Error",text:"No se ha podido actualizar la contrase\xf1a",icon:"error",confirmButtonText:"Ok"})})}}return r.\u0275fac=function(o){return new(o||r)(e.Y36(t.qu),e.Y36(c.e),e.Y36(l.F0),e.Y36(l.gz))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-new-password"]],decls:18,vars:2,consts:[[1,"h-screen","bg-gray-400"],[1,"container","mx-auto"],[1,"flex","justify-center","p-12"],[1,"w-full","xl:w-3/4","lg:w-11/12","flex"],[1,"w-full","h-auto","bg-gray-400","hidden","lg:block","lg:w-1/2","bg-cover","bg-center","rounded-l-lg",2,"background-image","url('https://www.kindpng.com/picc/m/484-4840794_80215-compt-repairs-logo-large-computer-service-and.png')"],[1,"w-full","lg:w-1/2","bg-white","p-5","rounded-lg","lg:rounded-l-none"],[1,"pt-4","text-2xl","text-center"],[1,"px-8","pt-6","pb-8","mb-4","bg-white","rounded",3,"formGroup","ngSubmit"],[1,"mb-4"],["for","password",1,"block","mb-2","text-sm","font-bold","text-gray-700"],["formControlName","password","id","password","type","password","placeholder","*******",1,"w-full","px-3","py-2","text-sm","leading-tight","text-gray-700","border","rounded","shadow","appearance-none","focus:outline-none","focus:shadow-outline"],[1,"text-xs","italic","text-red-500"],[1,"my-6","text-center"],["type","submit",1,"w-full","px-4","py-2","font-bold","text-white","bg-blue-500","rounded-full","hover:bg-blue-700","focus:outline-none","focus:shadow-outline"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._UZ(4,"div",4),e.TgZ(5,"div",5)(6,"h3",6),e._uU(7,"Bienvenid@ \u{1f642}"),e.qZA(),e.TgZ(8,"form",7),e.NdJ("ngSubmit",function(){return n.updatePass()}),e.TgZ(9,"div",8)(10,"label",9),e._uU(11," Nueva contrase\xf1a "),e.qZA(),e._UZ(12,"input",10),e.TgZ(13,"p",11),e._uU(14),e.qZA()(),e.TgZ(15,"div",12)(16,"button",13),e._uU(17," Actualizar contrase\xf1a "),e.qZA()()()()()()()()),2&o&&(e.xp6(8),e.Q6J("formGroup",n.formPassword),e.xp6(6),e.Oqu(n.errorPassword))},directives:[t._Y,t.JL,t.sg,t.Fj,t.JJ,t.u],styles:[""]}),r})()},{path:"**",redirectTo:"login"}];let h=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[l.Bz.forChild(f)],l.Bz]}),r})()}}]);