"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[197],{3197:(T,m,a)=>{a.r(m),a.d(m,{AuthRoutingModule:()=>y});var l=a(1083),o=a(3075),_=a(5226),g=a.n(_),n=a(5e3),d=a(6518),c=a(7322),u=a(7531),f=a(9808),h=a(7423),P=a(5245),C=a(8692);const M=["container"];function O(i,s){if(1&i&&(n.TgZ(0,"mat-error"),n._uU(1),n.qZA()),2&i){const e=n.oxw();n.xp6(1),n.Oqu(e.errorEmail)}}function w(i,s){if(1&i&&(n.TgZ(0,"mat-error"),n._uU(1),n.qZA()),2&i){const e=n.oxw();n.xp6(1),n.Oqu(e.errorPassword)}}function x(i,s){if(1&i&&(n.TgZ(0,"mat-error"),n._uU(1),n.qZA()),2&i){const e=n.oxw();n.xp6(1),n.Oqu(e.errorEmail)}}function v(i,s){if(1&i&&(n.TgZ(0,"mat-error"),n._uU(1),n.qZA()),2&i){const e=n.oxw();n.xp6(1),n.Oqu(e.errorPassword)}}const Z=[{path:"login",component:(()=>{class i{constructor(e,t,r){this.fb=e,this.authService=t,this.router=r,this.formLogin=this.fb.group({email:["",[o.kI.required,o.kI.email,o.kI.minLength(3),o.kI.maxLength(50)]],password:["",[o.kI.required,o.kI.minLength(6)]],recaptcha:["",o.kI.required]}),this.formNewPassword=this.fb.group({email:["",[o.kI.required,o.kI.email,o.kI.minLength(3),o.kI.maxLength(50)]]}),this.siteKey="6LeC2ZMfAAAAAEE8Z1L4cLhr8IZVMLmdu_WRu5Zp",this.errorMsg="",this.errorEmail="Formato de email incorrecto",this.errorPassword="Debe tener al menos 6 caracteres",this.hidePassword=!0}ngOnInit(){}login(){const{email:e,password:t}=this.formLogin.value;this.authService.login(e,t).subscribe({next:r=>{!0===r&&this.formLogin.valid?this.authService.getRolByToken().subscribe(p=>{this.router.navigate("admin"===p?["/dashboard"]:"tecnico"===p?["/tecnico"]:["/cliente"])}):this.formLogin.controls.recaptcha.errors?g().fire("Error","Es necesario completar el captcha","error"):(this.errorMsg="Usuario o contrase\xf1a incorrectos",g().fire("Error",r.msg,"error"))}})}sendPass(){const{email:e}=this.formNewPassword.value;this.authService.sendEmail(e).subscribe(t=>{t?(console.log(t),g().fire({title:"Enviado",text:"Se ha enviado un correo para restablecer la contrase\xf1a",icon:"success",showConfirmButton:!1,timer:1500}),this.router.navigate(["/login"])):g().fire({title:"Error",text:"No se ha podido enviar el correo",icon:"error",confirmButtonText:"Ok"})})}signUpMode(){this.container.nativeElement.classList.add("sign-up-mode")}signInMode(){this.container.nativeElement.classList.remove("sign-up-mode")}}return i.\u0275fac=function(e){return new(e||i)(n.Y36(o.qu),n.Y36(d.e),n.Y36(l.F0))},i.\u0275cmp=n.Xpm({type:i,selectors:[["app-login"]],viewQuery:function(e,t){if(1&e&&n.Gf(M,5),2&e){let r;n.iGM(r=n.CRH())&&(t.container=r.first)}},decls:56,vars:11,consts:[[1,"container","w-full"],["container",""],[1,"forms-container"],[1,"signin-signup"],[1,"sign-in-form",3,"formGroup","ngSubmit"],[1,"title"],[1,"input-field"],["appearance","fill",1,"w-full"],["type","email","autocomplete","off","matInput","","placeholder","pat@example.com","formControlName","email","required","",1,"focus:ring-transparent"],[4,"ngIf"],["autocomplete","off","formControlName","password","matInput","","required","",1,"focus:ring-transparent",3,"type"],["type","button","mat-icon-button","","matSuffix","",3,"click"],[1,"text-xs","italic","text-red-500"],["formControlName","recaptcha",3,"siteKey"],["captchaElem",""],["type","submit","value","Iniciar sesi\xf3n",1,"btn","solid"],[1,"sign-up-form",3,"formGroup","ngSubmit"],["autocomplete","off","matInput","","placeholder","pat@example.com","formControlName","email","required","",1,"focus:ring-transparent"],["type","submit","value","Enviar email",1,"btn"],[1,"panels-container"],[1,"panel","left-panel"],[1,"content"],[1,"btn","transparent",3,"click"],["src","/assets/log.svg","alt","",1,"image"],[1,"panel","right-panel"],["src","/assets/register.svg","alt","",1,"image"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3)(4,"form",4),n.NdJ("ngSubmit",function(){return t.login()}),n.TgZ(5,"h2",5),n._uU(6,"Iniciar sesi\xf3n"),n.qZA(),n.TgZ(7,"div",6)(8,"mat-form-field",7)(9,"mat-label"),n._uU(10,"Introduce tu email"),n.qZA(),n._UZ(11,"input",8),n.YNc(12,O,2,1,"mat-error",9),n.qZA()(),n.TgZ(13,"div",6)(14,"mat-form-field",7)(15,"mat-label"),n._uU(16,"Introduce tu contrase\xf1a"),n.qZA(),n._UZ(17,"input",10),n.TgZ(18,"button",11),n.NdJ("click",function(){return t.hidePassword=!t.hidePassword}),n.TgZ(19,"mat-icon"),n._uU(20),n.qZA()(),n.YNc(21,w,2,1,"mat-error",9),n.qZA()(),n.TgZ(22,"p",12),n._uU(23),n.qZA(),n._UZ(24,"ngx-recaptcha2",13,14)(26,"input",15),n.qZA(),n.TgZ(27,"form",16),n.NdJ("ngSubmit",function(){return t.sendPass()}),n.TgZ(28,"h2",5),n._uU(29,"Cambiar contrase\xf1a"),n.qZA(),n.TgZ(30,"div",6)(31,"mat-form-field",7)(32,"mat-label"),n._uU(33,"Introduce tu email"),n.qZA(),n._UZ(34,"input",17),n.YNc(35,x,2,1,"mat-error",9),n.qZA()(),n._UZ(36,"input",18),n.qZA()()(),n.TgZ(37,"div",19)(38,"div",20)(39,"div",21)(40,"h3"),n._uU(41,"\xbfNo te acuerdas de tu contrase\xf1a?"),n.qZA(),n.TgZ(42,"p"),n._uU(43," No te preocupes, puedes cambiarla en cualquier momento. "),n.qZA(),n.TgZ(44,"button",22),n.NdJ("click",function(){return t.signUpMode()}),n._uU(45," Cambiar contrase\xf1a "),n.qZA()(),n._UZ(46,"img",23),n.qZA(),n.TgZ(47,"div",24)(48,"div",21)(49,"h3"),n._uU(50,"\xbfYa tienes cuenta?"),n.qZA(),n.TgZ(51,"p"),n._uU(52," Inicia sesi\xf3n para acceder a tu cuenta. "),n.qZA(),n.TgZ(53,"button",22),n.NdJ("click",function(){return t.signInMode()}),n._uU(54," Iniciar sesi\xf3n "),n.qZA()(),n._UZ(55,"img",25),n.qZA()()()),2&e&&(n.xp6(4),n.Q6J("formGroup",t.formLogin),n.xp6(8),n.Q6J("ngIf",t.formLogin.controls.email.invalid),n.xp6(5),n.Q6J("type",t.hidePassword?"password":"text"),n.xp6(1),n.uIk("aria-label","Hide password")("aria-pressed",t.hidePassword),n.xp6(2),n.Oqu(t.hidePassword?"visibility_off":"visibility"),n.xp6(1),n.Q6J("ngIf",t.formLogin.controls.password.invalid),n.xp6(2),n.Oqu(t.errorMsg),n.xp6(1),n.Q6J("siteKey",t.siteKey),n.xp6(3),n.Q6J("formGroup",t.formNewPassword),n.xp6(8),n.Q6J("ngIf",t.formLogin.controls.email.invalid))},directives:[o._Y,o.JL,o.sg,c.KE,c.hX,u.Nt,o.Fj,o.JJ,o.u,o.Q7,f.O5,c.TO,h.lW,c.R9,P.Hw,C.to],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;500;600;700;800&display=swap";body[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{font-family:Poppins,sans-serif}.container[_ngcontent-%COMP%]{position:relative;background-color:#fff;min-height:100vh;overflow:hidden;max-width:100%}.forms-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0}.signin-signup[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translate(-50%,-50%);left:75%;width:50%;transition:1s .7s ease-in-out;display:grid;grid-template-columns:1fr;z-index:5}form[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;padding:0rem 5rem;transition:all .2s .7s;overflow:hidden;grid-column:1 / 2;grid-row:1 / 2}form.sign-up-form[_ngcontent-%COMP%]{opacity:0;z-index:1}form.sign-in-form[_ngcontent-%COMP%]{z-index:2}.title[_ngcontent-%COMP%]{font-size:2.2rem;color:#444;margin-bottom:10px}.input-field[_ngcontent-%COMP%]{max-width:380px;width:100%;margin:15px 0;height:55px;border-radius:55px;padding:0 .4rem;position:relative}.input-field[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{text-align:center;line-height:55px;color:#acacac;transition:.5s;font-size:1.1rem}.input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:none;outline:none;border:none;line-height:1;font-weight:600;font-size:1.1rem;color:#333}.input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#aaa;font-weight:500}.social-text[_ngcontent-%COMP%]{padding:.7rem 0;font-size:1rem}.social-media[_ngcontent-%COMP%]{display:flex;justify-content:center}.social-icon[_ngcontent-%COMP%]{height:46px;width:46px;display:flex;justify-content:center;align-items:center;margin:0 .45rem;color:#333;border-radius:50%;border:1px solid #333;text-decoration:none;font-size:1.1rem;transition:.3s}.social-icon[_ngcontent-%COMP%]:hover{color:#4481eb;border-color:#4481eb}.btn[_ngcontent-%COMP%]{width:300px;background-color:#5995fd;border:none;outline:none;height:49px;border-radius:49px;color:#fff;text-transform:uppercase;font-weight:600;margin:10px 0;cursor:pointer;transition:.5s}.btn[_ngcontent-%COMP%]:hover{background-color:#4d84e2}.panels-container[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%;top:0;left:0;display:grid;grid-template-columns:repeat(2,1fr)}.container[_ngcontent-%COMP%]:before{content:"";position:absolute;height:2000px;width:2000px;top:-10%;right:48%;transform:translateY(-50%);background-image:linear-gradient(-45deg,#4481eb 0%,#04befe 100%);transition:1.8s ease-in-out;border-radius:50%;z-index:6}.image[_ngcontent-%COMP%]{width:100%;transition:transform 1.1s ease-in-out;transition-delay:.4s}.panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;justify-content:space-around;text-align:center;z-index:6}.left-panel[_ngcontent-%COMP%]{pointer-events:all;padding:3rem 17% 2rem 12%}.right-panel[_ngcontent-%COMP%]{pointer-events:none;padding:3rem 12% 2rem 17%}.panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{color:#fff;transition:transform .9s ease-in-out;transition-delay:.6s}.panel[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:600;line-height:1;font-size:1.5rem}.panel[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95rem;padding:.7rem 0}.btn.transparent[_ngcontent-%COMP%]{margin:0;background:none;border:2px solid #fff;width:200px;height:41px;font-weight:600;font-size:.8rem}.right-panel[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%], .right-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{transform:translate(800px)}.container.sign-up-mode[_ngcontent-%COMP%]:before{transform:translate(100%,-50%);right:52%}.container.sign-up-mode[_ngcontent-%COMP%]   .left-panel[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%], .container.sign-up-mode[_ngcontent-%COMP%]   .left-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{transform:translate(-800px)}.container.sign-up-mode[_ngcontent-%COMP%]   .signin-signup[_ngcontent-%COMP%]{left:25%}.container.sign-up-mode[_ngcontent-%COMP%]   form.sign-up-form[_ngcontent-%COMP%]{opacity:1;z-index:2}.container.sign-up-mode[_ngcontent-%COMP%]   form.sign-in-form[_ngcontent-%COMP%]{opacity:0;z-index:1}.container.sign-up-mode[_ngcontent-%COMP%]   .right-panel[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%], .container.sign-up-mode[_ngcontent-%COMP%]   .right-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{transform:translate(0)}.container.sign-up-mode[_ngcontent-%COMP%]   .left-panel[_ngcontent-%COMP%]{pointer-events:none}.container.sign-up-mode[_ngcontent-%COMP%]   .right-panel[_ngcontent-%COMP%]{pointer-events:all}@media (max-width: 870px){.container[_ngcontent-%COMP%]{min-height:800px;height:100vh}.signin-signup[_ngcontent-%COMP%]{width:100%;top:95%;transform:translate(-50%,-100%);transition:1s .8s ease-in-out}.signin-signup[_ngcontent-%COMP%], .container.sign-up-mode[_ngcontent-%COMP%]   .signin-signup[_ngcontent-%COMP%]{left:50%}.panels-container[_ngcontent-%COMP%]{grid-template-columns:1fr;grid-template-rows:1fr 2fr 1fr}.panel[_ngcontent-%COMP%]{flex-direction:row;justify-content:space-around;align-items:center;padding:2.5rem 8%;grid-column:1 / 2}.right-panel[_ngcontent-%COMP%]{grid-row:3 / 4}.left-panel[_ngcontent-%COMP%]{grid-row:1 / 2}.image[_ngcontent-%COMP%]{width:200px;transition:transform .9s ease-in-out;transition-delay:.6s}.panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding-right:15%;transition:transform .9s ease-in-out;transition-delay:.8s}.panel[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem}.panel[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.7rem;padding:.5rem 0}.btn.transparent[_ngcontent-%COMP%]{width:200px;height:35px;font-size:.7rem}.container[_ngcontent-%COMP%]:before{width:1500px;height:1500px;transform:translate(-50%);left:30%;bottom:68%;right:initial;top:initial;transition:2s ease-in-out}.container.sign-up-mode[_ngcontent-%COMP%]:before{transform:translate(-50%,100%);bottom:32%;right:initial}.container.sign-up-mode[_ngcontent-%COMP%]   .left-panel[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%], .container.sign-up-mode[_ngcontent-%COMP%]   .left-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{transform:translateY(-300px)}.container.sign-up-mode[_ngcontent-%COMP%]   .right-panel[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%], .container.sign-up-mode[_ngcontent-%COMP%]   .right-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{transform:translateY(0)}.right-panel[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%], .right-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{transform:translateY(300px)}.container.sign-up-mode[_ngcontent-%COMP%]   .signin-signup[_ngcontent-%COMP%]{top:5%;transform:translate(-50%)}}@media (max-width: 570px){form[_ngcontent-%COMP%]{padding:0 1.5rem}.image[_ngcontent-%COMP%]{display:none}.panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:.5rem 1rem}.container[_ngcontent-%COMP%]{padding:1.5rem}.container[_ngcontent-%COMP%]:before{bottom:72%;left:50%}.container.sign-up-mode[_ngcontent-%COMP%]:before{bottom:28%;left:50%}}']}),i})()},{path:"new-password/:token",component:(()=>{class i{constructor(e,t,r,p){this.fb=e,this.authService=t,this.router=r,this.route=p,this.formPassword=this.fb.group({password:["",[o.kI.required,o.kI.minLength(6),o.kI.maxLength(20)]]}),this.token="",this.errorPassword="Debe tener al menos 6 caracteres",this.hidePassword=!0}ngOnInit(){}updatePass(){this.authService.newPassword(this.formPassword.value.password,this.route.snapshot.paramMap.get("token")).subscribe(e=>{e?(g().fire({title:"Actualizado",text:"Se ha actualizado la contrase\xf1a",icon:"success",showConfirmButton:!1,timer:1500}),this.router.navigate(["/login"])):g().fire({title:"Error",text:"No se ha podido actualizar la contrase\xf1a",icon:"error",confirmButtonText:"Ok"})})}}return i.\u0275fac=function(e){return new(e||i)(n.Y36(o.qu),n.Y36(d.e),n.Y36(l.F0),n.Y36(l.gz))},i.\u0275cmp=n.Xpm({type:i,selectors:[["app-new-password"]],decls:14,vars:6,consts:[[1,"mx-auto","w-full","h-full","flex","justify-center","items-center"],[1,"sign-up-form",3,"formGroup","ngSubmit"],[1,"title"],[1,"input-field"],["appearance","fill",1,"w-full"],["autocomplete","off","formControlName","password","matInput","","required","",1,"focus:ring-transparent",3,"type"],["type","button","mat-icon-button","","matSuffix","",3,"click"],[4,"ngIf"],["type","submit","value","Cambiar contrase\xf1a",1,"btn"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0)(1,"form",1),n.NdJ("ngSubmit",function(){return t.updatePass()}),n.TgZ(2,"h2",2),n._uU(3,"Cambiar contrase\xf1a"),n.qZA(),n.TgZ(4,"div",3)(5,"mat-form-field",4)(6,"mat-label"),n._uU(7,"Introduce tu contrase\xf1a"),n.qZA(),n._UZ(8,"input",5),n.TgZ(9,"button",6),n.NdJ("click",function(){return t.hidePassword=!t.hidePassword}),n.TgZ(10,"mat-icon"),n._uU(11),n.qZA()(),n.YNc(12,v,2,1,"mat-error",7),n.qZA()(),n._UZ(13,"input",8),n.qZA()()),2&e&&(n.xp6(1),n.Q6J("formGroup",t.formPassword),n.xp6(7),n.Q6J("type",t.hidePassword?"password":"text"),n.xp6(1),n.uIk("aria-label","Hide password")("aria-pressed",t.hidePassword),n.xp6(2),n.Oqu(t.hidePassword?"visibility_off":"visibility"),n.xp6(1),n.Q6J("ngIf",t.formPassword.controls.password.invalid))},directives:[o._Y,o.JL,o.sg,c.KE,c.hX,o.Fj,u.Nt,o.JJ,o.u,o.Q7,h.lW,c.R9,P.Hw,f.O5,c.TO],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;500;600;700;800&display=swap";body[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{font-family:Poppins,sans-serif}form[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;padding:0rem 5rem;transition:all .2s .7s;overflow:hidden;grid-column:1 / 2;grid-row:1 / 2}.input-field[_ngcontent-%COMP%]{max-width:380px;width:100%;margin:15px 0;height:55px;border-radius:55px;padding:0 .4rem;position:relative}.input-field[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{text-align:center;line-height:55px;color:#acacac;transition:.5s;font-size:1.1rem}.input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:none;outline:none;border:none;line-height:1;font-weight:600;font-size:1.1rem;color:#333}.input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#aaa;font-weight:500}.title[_ngcontent-%COMP%]{font-size:2.2rem;color:#444;margin-bottom:10px}.btn[_ngcontent-%COMP%]{width:300px;background-color:#5995fd;border:none;outline:none;height:49px;border-radius:49px;color:#fff;text-transform:uppercase;font-weight:600;margin:10px 0;cursor:pointer;transition:.5s}.btn[_ngcontent-%COMP%]:hover{background-color:#4d84e2}.btn.transparent[_ngcontent-%COMP%]{margin:0;background:none;border:2px solid #fff;width:200px;height:41px;font-weight:600;font-size:.8rem}@media (max-width: 570px){form[_ngcontent-%COMP%]{padding:0 1.5rem}}']}),i})()},{path:"**",redirectTo:"login"}];let y=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=n.oAB({type:i}),i.\u0275inj=n.cJS({imports:[[l.Bz.forChild(Z)],l.Bz]}),i})()}}]);